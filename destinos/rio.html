<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guia Tur√≠stico</title>
  <link rel="stylesheet" href="../styles/destino.css">
  <script>
    async function converterMoeda() {
      const valor = parseFloat(document.getElementById("valor").value);
      const de = document.getElementById("de").value;
      const para = document.getElementById("para").value;

      if (isNaN(valor)) {
        document.getElementById("resultado").innerText = "Digite um valor v√°lido!";
        return;
      }

      try {
        const response = await fetch(`https://api.exchangerate.host/convert?from=${de}&to=${para}&amount=${valor}`);
        const data = await response.json();
        document.getElementById("resultado").innerText =
          `${valor} ${de} = ${data.result.toFixed(2)} ${para}`;
      } catch (error) {
        document.getElementById("resultado").innerText = "Erro ao converter.";
      }
    }
  </script>
</head>

<body data-destino="rio">
  <!-- Bot√£o para abrir/fechar navbar -->
  <button class="navbar-toggle" id="navbarToggle">‚ò∞</button>

  <!-- NAVBAR LATERAL -->
  <nav class="navbar-lateral" id="navbar">
    <h3>üìç Menu</h3>
    <ul class="nav-menu">
      <li><a href="#pontos-turisticos" class="nav-link">
          <span class="nav-icon">üóø</span>
          <span>Pontos Tur√≠sticos</span>
        </a></li>
      <li><a href="#alimentacao" class="nav-link">
          <span class="nav-icon">üçΩÔ∏è</span>
          <span>Alimenta√ß√£o</span>
        </a></li>
      <li><a href="#transporte" class="nav-link">
          <span class="nav-icon">üöå</span>
          <span>Transporte</span>
        </a></li>
      <li><a href="#blog" class="nav-link">
          <span class="nav-icon">üìù</span>
          <span>Blog</span>
        </a></li>
    </ul>
  </nav>

  <!-- HEADER COM CONVERSOR -->
  <header>
    <div class="header-conteudo">
      <h1><a href="../index.html">Mundo na Mochila</a></h1>
      <div class="converter">
        <input type="number" id="valor" placeholder="Valor" step="0.01">
        <select id="de">
          <option value="BRL">BRL</option>
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
        </select>
        ‚Üí
        <select id="para">
          <option value="USD">USD</option>
          <option value="BRL">BRL</option>
          <option value="EUR">EUR</option>
        </select>
        <button onclick="converterMoeda()">Converter</button>
        <p id="resultado"></p>
      </div>
    </div>
  </header>

  <!-- CONTE√öDO PRINCIPAL -->
  <main>
    <div class="conteudo">
      <div id="pontos-turisticos" class="destino">
        <h2>Pontos Tur√≠sticos</h2>
        <p>Conhe√ßa os principais pontos tur√≠sticos da cidade, como a Pra√ßa Central, o Museu Hist√≥rico e o Parque das
          √Åguas.</p>
      </div>
      <div id="alimentacao" class="destino">
        <h2>Alimenta√ß√£o</h2>
        <p>O custo m√©dio de uma refei√ß√£o simples fica em torno de R$30, enquanto restaurantes mais sofisticados podem
          chegar a R$100 por pessoa.</p>
      </div>
      <div id="transporte" class="destino">
        <h2>Transporte</h2>
        <p>O transporte p√∫blico custa em m√©dia R$5 por passagem. J√° o servi√ßo de t√°xi/uber gira em torno de R$15 a R$30
          por trajeto curto.</p>
      </div>
    </div>
  </main>

  <!-- BLOG DE USU√ÅRIOS -->
  <footer id="blog">
    <div class="conteudo">
      <div class="destino">
        <h2>Blog dos Viajantes</h2>

        <!-- Bot√µes de Login/Logout -->
        <div style="margin-bottom:15px;">
          <a href="../login.html">
            <button
              style="padding:10px 20px; background:#4caf50; color:white; border:none; border-radius:5px; cursor:pointer;">
              Login
            </button>
          </a>
          <button id="logoutBtn" class="login-btn" style="display:none;">Logout</button>
        </div>

        <!-- Criar post -->
        <input type="text" id="title" placeholder="T√≠tulo do post" style="width:100%; margin-bottom:10px; padding:8px;">
        <textarea id="content" placeholder="Escreva seu post..."
          style="width:100%; margin-bottom:10px; padding:8px;"></textarea>
        <button id="postBtn"
          style="background:#1e88e5; color:white; border:none; padding:10px; border-radius:5px; cursor:pointer;">
          Publicar
        </button>

        <!-- Posts ser√£o renderizados aqui -->
        <div id="posts" style="margin-top:20px;"></div>

      </div>
    </div>
  </footer>

  <script>
    // Script para abrir/fechar navbar
    const navbarToggle = document.getElementById('navbarToggle');
    const navbar = document.getElementById('navbar');
    const body = document.body;

    navbarToggle.addEventListener('click', () => {
      navbar.classList.toggle('closed');
      body.classList.toggle('navbar-closed');
    });

    // Script para destacar item ativo da navbar ao rolar
    window.addEventListener('scroll', () => {
      const sections = document.querySelectorAll('main .destino, #blog');
      const navLinks = document.querySelectorAll('.nav-link');

      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (window.pageYOffset >= sectionTop - 150) {
          current = section.getAttribute('id');
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
          link.classList.add('active');
        }
      });
    });
  </script>

  <script type="module" src="../firebase/destino.js"></script>
</body>

</html>